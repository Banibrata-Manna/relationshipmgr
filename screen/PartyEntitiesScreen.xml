<?xml version="1.0" encoding="UTF-8"?>
<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd"
        require-authentication="anonymous-all">

    <transition name="personCreate">
        <actions>
            <service-call name="PartyAndContactService.create#CreatePerson" in-map="context" out-map="context"/>
        </actions>
        <default-response type="screen-last-noparam"/>
    </transition>

    <transition name="orgCreate">
        <service-call name="PartyAndContactService.create#CreateOrganization" in-map="context" out-map="context"/>
        <default-response type="screen-last-noparam"/>
    </transition>

    <transition name="ptyRoleCreate">
        <service-call name="PartyAndContactService.create#PartyRole" in-map="context" out-map="context"/>
        <default-response type="screen-last-noparam"/>
    </transition>

    <transition name="createTelecom">
        <actions>
            <service-call name="PartyAndContactService.create#CreateTelecomNumber" in-map="context" out-map="context"/>
        </actions>
        <default-response type="screen-last-noparam"/>
    </transition>

    <transition name="createPostal">
        <actions>
            <service-call name="PartyAndContactService.create#CreatePostalAddress" in-map="context" out-map="context"/>
        </actions>
        <default-response type="screen-last-noparam"/>
    </transition>

    <transition name="createEmail">
        <actions>
            <service-call name="PartyAndContactService.create#CreateEmailAddress" in-map="context" out-map="context"/>
        </actions>
        <default-response type="screen-last-noparam"/>
    </transition>

    <transition name="createPartyContactMech">
        <actions>
            <service-call name="PartyAndContactService.create#PartyContactMech" in-map="context" out-map="context"/>
        </actions>
        <default-response type="screen-last-noparam"/>
    </transition>

    <widgets>
        <label type="h3" text="Create Person"/>
        <form-single name="PersonForm" transition="personCreate">
            <auto-fields-service service-name="PartyAndContactService.create#CreatePerson"/>
            <field name="submitButton"><default-field title="Create Person"><submit/></default-field></field>
        </form-single>

        <label type="h3" text="Create Organization"/>
        <form-single name="OrganizationForm" transition="orgCreate">
            <auto-fields-service service-name="PartyAndContactService.create#CreateOrganization"/>
            <field name="submitButton"><default-field title="Create Organization"><submit/></default-field></field>
        </form-single>

        <label type="h3" text="Create Party Roles"/>

        <form-single name="PartyRoleForm" transition="ptyRoleCreate">
            <auto-fields-service service-name="PartyAndContactService.create#PartyRole"/>
            <field name="submitButton"><default-field title="Create Party Role"><submit/></default-field></field>
        </form-single>

        <label type="h3" text="Create Telecom Number"/>
            <form-single name="PartyTelecomMechForm" transition="createTelecom">
                <auto-fields-service service-name="PartyAndContactService.create#CreateTelecomNumber"/>
                <field name="submitButton"><default-field title="Create Telecom Number"><submit/></default-field></field>
            </form-single>
        <label type="h3" text="Create Postal Address"/>
            <form-single name="PartyPostalMechForm" transition="createPostal">
                <auto-fields-service service-name="PartyAndContactService.create#CreatePostalAddress"/>
                <field name="submitButton"><default-field title="Create Postal Address"><submit/></default-field></field>
            </form-single>

        <label type="h3" text="Create Postal Address"/>
        <form-single name="PartyEmailMechForm" transition="createEmail">
            <auto-fields-service service-name="PartyAndContactService.create#CreateEmailAddress"/>
            <field name="submitButton"><default-field title="Create Email Address"><submit/></default-field></field>
        </form-single>
        <label type="h3" text="Create Party Contact Association"/>
            <form-single name="PartyContactMechForm" transition="createPartyContactMech">
                <auto-fields-service service-name="PartyAndContactService.create#PartyContactMech"/>
                <field name="submitButton"><default-field title="Create PartyContactMech"><submit/></default-field></field>
            </form-single>

    </widgets>
</screen>