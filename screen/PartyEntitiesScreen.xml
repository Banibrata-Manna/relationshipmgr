<?xml version="1.0" encoding="UTF-8"?>
<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd"
        require-authentication="anonymous-all">

    <transition name="personCreate">
        <actions>
            <service-call name="PartyAndContactService.create#CreatePerson" in-map="context" out-map="context"/>
        </actions>
        <default-response type="screen-last-noparam"/>
    </transition>

    <transition name="orgCreate">
        <service-call name="PartyAndContactService.create#CreateOrganization" in-map="context" out-map="context"/>
        <default-response type="screen-last-noparam"/>
    </transition>

    <transition name="ptyRoleCreate">
        <service-call name="PartyAndContactService.create#PartyRole" in-map="context" out-map="context"/>
        <default-response type="screen-last-noparam"/>
    </transition>

<!--    <transition name="createContacts">-->
<!--        <actions>-->
<!--            <service-call name="PartyAndContactService.create#createTelecomNumber" in-map="context" out-map="context"/>-->
<!--            <service-call name="PartyAndContactService.create#PartyContactMech" in-map="context" out-map="context"/>-->
<!--        </actions>-->
<!--        <default-response type="screen-last-noparam"/>-->
<!--    </transition>-->

    <widgets>
        <label type="h3" text="Create Person"/>
        <form-single name="PersonForm" transition="personCreate">
            <auto-fields-service service-name="PartyAndContactService.create#CreatePerson"/>
            <field name="submitButton"><default-field title="Create Person"><submit/></default-field></field>
        </form-single>

        <label type="h3" text="Create Organization"/>
        <form-single name="OrganizationForm" transition="orgCreate">
            <auto-fields-service service-name="PartyAndContactService.create#CreateOrganization"/>
            <field name="submitButton"><default-field title="Create Organization"><submit/></default-field></field>
        </form-single>

        <label type="h3" text="Create Party Roles"/>

        <form-single name="PartyRoleForm" transition="ptyRoleCreate">
            <auto-fields-service service-name="PartyAndContactService.create#PartyRole"/>
            <field name="submitButton"><default-field title="Create Party Role"><submit/></default-field></field>
        </form-single>

<!--        <widgets>-->
<!--            <form-single name="PartyTelecomMechForm" transition="createContacts">-->
<!--                <auto-fields-service service-name="PartyAndContactService.create#createTelecomNumber"/>-->
<!--                <auto-fields-service service-name="PartyAndContactService.create#PartyContactMech"/>-->
<!--                <field name="submitButton"><default-field title="Create Telecom Number"><submit/></default-field></field>-->
<!--            </form-single>-->
<!--        </widgets>-->

    </widgets>
</screen>